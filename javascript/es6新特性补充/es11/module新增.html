<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="box"></div>
    <script type="module">
        // 1.动态导入
        // - 动态地引入外部模块
        // - 返回一个promise对象
        // - 使用场景：用户登录后，如果是普通用户就引入普通用户的功能模块，如果是管理员就引入管理员功能模块

        const USER = Symbol('普通用户')
        const ADMIN = Symbol('管理员')
        
        async function reder( role) {
                if( role === ADMIN) {
                    let res1 = await import('./2.mjs')
                    console.log(res1.default)
                } else {
                    let res2 = await import('./1.mjs')
                    console.log(res2.default)
                }
            }

        reder( USER).then(res=>{
            console.log(res)
        }).catch(res=>{
            console.log(res)
        })


        console.log('同步代码')

        // 2.module.meta
    </script>
</body>
</html>